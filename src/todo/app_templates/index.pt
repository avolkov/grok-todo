<html>
  <head>
    <link rel="stylesheet" type="text/css"
      tal:attributes="href static/style.css">
    <title>To-Do list manager</title>
  </head>
  <body>
    <h1>To-Do list manager</h1>
    <p>
      Here you can add new lists and check off all the items that you comlete
    </p>
    <tal:block repeat="todolist context/todolists">
      <form class="todolist" method="post" tal:attributes="action view/url">
        <fieldset>
          <legend tal:content="todolist/title">title</legend>
          <p tal:content="todolist/description">description</p>
          <div tal:repeat="item todolist/items"
               tal:attributes="class python:item['checked'] 
               and 'done' or 'pending'">
            <input type="checkbox"
              tal:attributes="name string:item_${repeat/item/index};
                              checked item/checked" />
            <span tal:content="item/description"></span>
            <input type="image"
              tal:attributes="name string:delete_${repeat/item/index};
              src static/bin_closed.png"
              value="Delete" />
          </div>
          <br />
          <input type="hidden" name="list_index"
            tal:attributes="value repeat/todolist/index">
          <input type="submit" class="update_button" 
            name="update_list" value="Update list" />
          <br />
        </fieldset>
        <label for="item_description">New Item: </label>
        <br/>
        <input type="text" size="60" 
          name="item_description" />
        <input type="submit" class="new_button"
          name="new_item" value="Add to list" />
      </form>
    </tal:block>
    <form class="add" method="post" tal:attributes="action view/url">
      <fieldset>
        <legend>Create new list</legend>
        <label for="list_title">Title:</label>
        <input type="text" name="list_title" /><br />
        <label for="list_description">Description</label>
        <br />
        <textarea name="list_description" rows="3" cols="50"></textarea>
        <br />
        <input type="submit" class="new_button" name="new_list"
          value="Create" />
      </fieldset>
    </form>
  </body>
</html>